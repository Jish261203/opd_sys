{% extends 'base.html' %} {% block title %}Today's Appointments - OPD System{%
endblock %} {% block content %}
<div class="row mb-4">
  <div class="col-md-12">
    <div class="d-flex justify-content-between align-items-center">
      <h2>Today's Appointments - {{ today.strftime('%B %d, %Y') }}</h2>
      <a href="/appointments/create" class="btn btn-success"
        >âž• New Appointment</a
      >
    </div>
  </div>
</div>

{% if appointments %}
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th>Time</th>
              <th>Patient Name</th>
              <th>Phone</th>
              <th>Doctor</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for appointment in appointments %}
            <tr>
              <td>
                <strong
                  >{{ appointment.appointment_datetime.strftime('%H:%M')
                  }}</strong
                >
              </td>
              <td>{{ appointment.patient.name }}</td>
              <td>{{ appointment.patient.phone }}</td>
              <td>{{ appointment.doctor_name }}</td>
              <td>
                {% if appointment.status == 'Scheduled' %}
                <span class="badge bg-primary">{{ appointment.status }}</span>
                {% elif appointment.status == 'Completed' %}
                <span class="badge bg-success">{{ appointment.status }}</span>
                {% else %}
                <span class="badge bg-danger">{{ appointment.status }}</span>
                {% endif %}
              </td>
              <td>
                <a
                  href="/appointments/{{ appointment.id }}"
                  class="btn btn-sm btn-info"
                  >View</a
                >
                {% if appointment.status == 'Scheduled' %}
                <a
                  href="/consultations/new/{{ appointment.id }}"
                  class="btn btn-sm btn-success"
                  >Consultation</a
                >
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="alert alert-info" role="alert">
  No appointments scheduled for today.
  <a href="/appointments/create">Create a new appointment</a>.
</div>
{% endif %} {% endblock %}
